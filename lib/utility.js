// Generated by CoffeeScript 2.2.4
(function() {
  var _, prettyBytes, sizeof, utility;

  _ = require('lodash');

  sizeof = require('object-sizeof');

  prettyBytes = require('pretty-bytes');

  utility = {
    sizeof: function(obj) {
      return prettyBytes(sizeof(obj));
    },
    strToNumber: function(str, returnValue = 0/0) {
      var num, repObj;
      str = utility.toHalfString(str);
      repObj = {
        '^[△▲Δ]': '-',
        '[,、銭%％]': '',
        '[円]': '.'
      };
      str = utility.replaceAll(str, repObj);
      num = Number(str.split(',').join('').trim());
      if (_.isNaN(num)) {
        return returnValue;
      } else {
        return num;
      }
    },
    replaceAll: function(str, obj) {
      var key, ret, val;
      ret = str;
      for (key in obj) {
        val = obj[key];
        ret = ret.replace(new RegExp(key, 'g'), val);
      }
      return ret;
    },
    toHalfString: function(str) {
      var ret;
      ret = str.replace(/[０-９ａ-ｚＡ-Ｚ]/g, function(s) {
        return String.fromCharCode(s.charCodeAt(0) - 0xFEE0);
      });
      return ret;
    }
  };

  module.exports = utility;

}).call(this);
